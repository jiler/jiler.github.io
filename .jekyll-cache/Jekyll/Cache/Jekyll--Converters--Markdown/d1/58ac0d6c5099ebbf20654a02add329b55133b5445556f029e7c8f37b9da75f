I"<h2 id="spring-boot运行原理">Spring boot运行原理</h2>
<p>Spring boot用一个总注解<code class="language-plaintext highlighter-rouge">@SpringBootApplication</code>开启自动配置，其核心注解是<code class="language-plaintext highlighter-rouge">@EnableAutoConfiguration</code>。这个注解利用了<code class="language-plaintext highlighter-rouge">@  Import</code>来导入配置。其基本原理是EnableAutoConfigurationImportSelector使用SpringFactoriesLoader.loadFactoryNames()这个方法扫描具有META-INFO/spring.factories文件的包。这个文件里，用名为<code class="language-plaintext highlighter-rouge">org.springframework.boot.autoconfigure.EnableAutoConfiguration</code>的配置项声明了包含的自动配置。</p>

<p><img src="/images/20191117AutoConfigScreanCapture.jpg" alt="autoConfigScreanCapture" /></p>

<p>上述配置项中的任一一个AutoConfiguration文件，一般都有条件注解。比如上述截图中的AopAutoConfiguration类。todo wujunpeng 好好看看条件注解相关的代码。</p>

<p>todo wujunpeng 根据书中6.5.4自己编写一个自动配置的starter pom。学习maven的打包，发布到仓库。</p>
:ET